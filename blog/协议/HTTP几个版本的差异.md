---
title: HTTP几个版本的差异
tags: ["协议", "HTTP几个版本的差异"]
categories: ["协议", "HTTP几个版本的差异"]
---

## HTTP的各个版本

### HTTP0.9  1991

- HTTP 0.9是第一个版本的HTTP协议，已过时。它的组成极其简单，**只允许客户端发送GET这一种请求，且不支持请求头。** 
- HTTP 0.9具有典型的无状态性，每个事务独立进行处理，事务结束时就释放这个连接。 

### HTTP1.0  1996

相对于HTTP 0.9 增加了如下主要特性：

- 请求与响应支持头域
- 响应对象以一个响应状态行开始
- 响应对象不只限于超文本
- 开始支持客户端通过POST方法向Web服务器提交数据，支持GET、HEAD、POST方法
- 支持长连接（但默认还是使用短连接），缓存机制，以及身份认证 

<!--more-->

### HTTP1.1  

HTTP 1.1引入了许多关键性能优化：keepalive连接，chunked编码传输，字节范围请求，请求流水线等 

- keepalive连接

  允许http设备在事务处理结束后将tcp连接保持在打开的状态，以便未来的http请求重用现在的连接，直到客户端或服务端将其关闭为止。

  在HTTP1.0中使用长连接需要添加请求头 Connection: Keep-Alive，而在HTTP 1.1 所有的连接默认都是长连接，除非特殊声明不支持（ HTTP请求报文首部加上Connection: close ） 

- chunked编码传输 

  该编码将实体分块传送并逐块标明长度,直到长度为0块表示传输结束, 这在实体长度未知时特别有用(比如由数据库动态产生的数据) 

- 字节范围请求
  HTTP1.1支持传送内容的一部分。比方说，当客户端已经有内容的一部分，为了节省带宽，可以只向服务器请求一部分。该功能通过在请求消息中引入了range头域来实现，它允许只请求资源的某个部分。在响应消息中Content-Range头域声明了返回的这部分对象的偏移值和长度。如果服务器相应地返回了对象所请求范围的内容，则响应码206（Partial Content）

- Pipelining（请求流水线） 

  从前，HTTP客户端发送请求后，需等待并收到服务器的响应，才能发送下一个请求。管线化技术出现后，不用等待响应亦可直接发送下一个请求。这样就能够做到同时并行发送多个请求，而不需要一个接一个地等待响应了。 （同时发送的请求个数有限制，不同浏览器限制不同）

HTTP 1.1还新增了如下特性：

- 请求消息和响应消息都应支持Host头域
  在HTTP1.0中认为每台服务器都绑定一个唯一的IP地址，因此，请求消息中的URL并没有传递主机名（hostname）。但随着虚拟主机技术的发展，在一台物理服务器上可以存在多个虚拟主机（Multi-homed Web Servers），并且它们共享一个IP地址。因此，Host头的引入就很有必要了。
- 新增了一批Request method
  HTTP1.1增加了OPTIONS,PUT, DELETE, TRACE, CONNECT方法
- 缓存处理
  HTTP/1.1在1.0的基础上加入了一些cache的新特性，引入了实体标签，一般被称为e-tags，新增更为强大的Cache-Control头。 

### HTTP2.0 

- 多路复用

  而 HTTP/2 引入二进制数据帧和流的概念，其中帧对数据进行顺序标识，这样浏览器收到数据之后，就可以按照序列对数据进行合并，而不会出现合并后数据错乱的情况。同样是因为有了序列，服务器就可以并行的传输数据。

- 头部压缩

- 随时复位

- 服务器端推流: Server Push

- 优先权和依赖 



### HTTP1.1 keep-alive 和HTTP2.0 多路复用的区别

http1.1 是一个请求一个响应，后面的请求需要等上一个请求的响应，多路复用可同时送多个请求，不需要等上一个响应。

![clipboard.png](https://segmentfault.com/img/bVbck6Y?w=1602&h=1588) 