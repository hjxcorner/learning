---
title: https与http的区别
tags: ["协议", "HTTPS"]
categories: ["协议", "HTTPS"]
---

### HTTPS特点：

- 密文传输：基于HTTP协议，通过**SSL**或**TLS**提供加密处理数据。
- 验证身份：通过证书认证客户端访问的是自己的服务器
- 保护数据完整性：防止传输的内容被中间人冒充或者篡改
- 端口：默认端口443

## 加密和握手过程

1. 客户端向服务器发起请求，获取服务器的证书公钥（CA证书，内置操作系统中） 。
2. 客户端验证证书是否有效。
3. 如果证书有效，客户端将对称加密的密钥，用证书公钥进行加密，发送给服务器。
4. 服务器收到加密后的密钥后，用自己的证书私钥进行解密，得到对称加密的私钥。
5. 用对称加密的私钥对客户端所要请求的内容进行加密，发送给客户端。

![img](https://upload-images.jianshu.io/upload_images/16749538-3ae48d5925636dc1.png?imageMogr2/auto-orient/strip|imageView2/2/format/webp) 

<!--more-->

## 相关问题

1. **如果中间人将服务器发给客户端的证书公钥截取，进行篡改/伪造，会怎么样？**

   如果篡改或者将其伪造，是通不过客户端的CA证书验证的。

2. **每一次的https之间的信息传递，都要经历以上这么多步骤吗?**

   不需要，因为双方已经取得了对称加密的私钥，只有他们拥有，所有只需要用对称加密的私钥对报文进行加密即可。

3. **客户端如何验证CA证书？**

   CA证书通常为第三方的权威机构颁发，客户端有一份可信任的证书名单，客户端就是通过这个证书名单进行验证的。

4. **在第五阶段，是如何保证用公钥加密的私钥是安全的？**

   因为证书的公钥只能通过证书私钥去解密，而私钥只有服务器才有，所有能保证安全。



